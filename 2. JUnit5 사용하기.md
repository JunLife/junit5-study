# JUnit5 ì‚¬ìš©í•˜ê¸°

### ëª©ì°¨

1. JUnit5 ì‹œì‘í•˜ê¸°
2. ê¸°ë³¸ ì• ë„ˆí…Œì´ì…˜
3. í…ŒìŠ¤íŠ¸ ì´ë¦„ í‘œì‹œ
4. Assert
5. AssertJ

___



## 1. JUnit5 ì‹œì‘í•˜ê¸°

- ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸°

  > ìŠ¤í”„ë§ ë¶€íŠ¸ 2.2+ ë²„ì „ ì‚¬ìš©ì‹œ ê¸°ë³¸ìœ¼ë¡œ JUnit5ê°€ ì¶”ê°€ë¨

- ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´

  ```java
  dependencies {
      testImplementation 'org.junit.jupiter:junit-jupiter-api:5.3.1'
      testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.3.1'
  }
  ```



## 2. ê¸°ë³¸ ì• ë„ˆí…Œì´ì…˜

- @Test

  > í•´ë‹¹ ë©”ì†Œë“œë¥¼ í…ŒìŠ¤íŠ¸ ëŒ€ìƒì„ ì§€ì •í•œë‹¤. ì ‘ê·¼ ì œì–´ìëŠ” ì„¤ì •í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.

- @BeforeAll / @AfterAll

  > ì „ì²´ ë©”ì†Œë“œë¥¼ ìˆ˜í–‰í•˜ê¸° ì „/í›„ì— ìˆ˜í–‰ë˜ëŠ” ë©”ì†Œë“œë¥¼ ì§€ì •í•œë‹¤. (í•œ ë²ˆë§Œ ìˆ˜í–‰ëœë‹¤.) ë°˜ë“œì‹œ static voidë¡œ ì‘ì„±í•´ì•¼ í•œë‹¤!! (í…ŒìŠ¤íŠ¸ëŠ” ê° ë©”ì†Œë“œë§ˆë‹¤ ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì´ë‹¤.) ìì„¸í•œ ë‚´ìš©ì€ JUnit ETC...  ì°¸ì¡°

- @BeforeEach / @AfterEach

  > ê° ë©”ì†Œë“œë¥¼ ìˆ˜í–‰í•˜ê¸° ì „/í›„ì— ìˆ˜í–‰ë˜ëŠ” ë©”ì†Œë“œë¥¼ ì§€ì •í•œë‹¤. (ë©”ì†Œë“œì˜ ìˆ˜ë§Œí¼ ìˆ˜í–‰ëœë‹¤.)

- @Disabled

  > í•´ë‹¹ ë©”ì†Œë“œë¥¼ ìˆ˜í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤.

```java
import org.junit.jupiter.api.*;

import static org.junit.jupiter.api.Assertions.*;

class StudyTest {

    @Test
    void create() {
        Study study = new Study();
        assertNotNull(study);

        System.out.println("create method");
    }

    @Test
    void print_hello() {
        System.out.println("Hello World!!");
    }

    @Test
    @Disabled
    void disable() {
        System.out.println("disable method");
    }

    @BeforeAll
    static void beforeAll() {
        System.out.println("before all\\n");
    }

    @AfterAll
    static void afterAll() {
        System.out.println("\\nafter all");
    }

    @BeforeEach
    void beforeEach() {
        System.out.println("before each");
    }

    @AfterEach
    void afterEach() {
        System.out.println("after each");
    }
}
```

![ê¸°ë³¸ ì• ë„ˆí…Œì´ì…˜](./image/ê¸°ë³¸_ì• ë„ˆí…Œì´ì…˜.png)



## 3. í…ŒìŠ¤íŠ¸ ì´ë¦„ í‘œì‹œ

> ê¸°ë³¸ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ì‹œ ë©”ì†Œë“œì˜ ì´ë¦„ì´ í…ŒìŠ¤íŠ¸ì˜ ì´ë¦„ìœ¼ë¡œ í‘œì‹œëœë‹¤.

- @DisplayNameGeneration

  > í´ë˜ìŠ¤ë‚˜ ë©”ì†Œë“œì—ì„œ ì‚¬ìš©í•˜ì—¬ naming ì „ëµì„ ì„ íƒí•  ìˆ˜ ìˆë‹¤.

- @DisplayName

  > ë©”ì†Œë“œì˜ ì´ë¦„ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.

```java
		@Test
    @DisplayName("ì´ë¦„ ì§€ì •í•˜ê¸°! ğŸ˜€")
    void create() {
        Study study = new Study();
        assertNotNull(study);

        System.out.println("create method");
    }
```

![í…ŒìŠ¤íŠ¸ ì´ë¦„ í‘œì‹œ](./image/í…ŒìŠ¤íŠ¸_ì´ë¦„_í‘œì‹œ.png)

## 4. Assert

- assertNotNull

  > ê°’ì´ nullì´ ì•„ë‹Œì§€ ê²€ì‚¬í•œë‹¤.

- assertEquals

  > ê°’ì´ ê¸°ëŒ€ê°’ê³¼ ê°™ì€ì§€ ê²€ì‚¬í•œë‹¤.

- assertTrue

  > ê°’ì´ trueì¸ì§€ í™•ì¸í•œë‹¤.

- assertAll

  > assertAllì˜ ëª¨ë“  ë‚´ìš©ì„ ê²€ì‚¬í•œë‹¤.

  ```java
  @Test
      @DisplayName("assert")
      void create() {
          Study study = new Study();
          assertAll(
                  () -> assertNotNull(study),
                  () -> assertEquals(StudyStatus.DRAFT, study.getStatus(),
                      () -> "Studyë¥¼ ì²˜ìŒ ë§Œë“¤ë©´ statusê°€ " + StudyStatus.DRAFT + "ì´ë‹¤."),
                  () -> assertTrue(1 > 0)
          );
      }
  ```

  > assertAllì„ ì‚¬ìš©í•˜ì§€ ì•Šì„ ê²½ìš°, 1, 2, 3ê°œì˜ assert ì¤‘ 2ë²ˆì´ í†µê³¼ë˜ì§€ ì•Šìœ¼ë©´ 3ë²ˆ assertë¥¼ ê²€ì‚¬í•˜ì§€ ì•ŠëŠ”ë‹¤.

- assertThrows

  > ì˜ˆì™¸ ë°œìƒì„ ê²€ì‚¬í•œë‹¤.

  ```java
  @Test
      @DisplayName("assert")
      void test() {
          IllegalStateException err = assertThrows(IllegalStateException.class, () -> {
              throw new IllegalStateException("í…ŒìŠ¤íŠ¸!");
          });
  
          assertEquals("í…ŒìŠ¤íŠ¸!", err.getMessage());
      }
  ```

- assertTimeout

  > ì‹œê°„ ë‚´ì— ë©”ì†Œë“œê°€ ìˆ˜í–‰ë˜ëŠ”ì§€ í™•ì¸í•œë‹¤. assertTimeoutPreemptivelyë¥¼ ì‚¬ìš©í•˜ë©´ ì„¤ì •ëœ ì‹œê°„ì´ ì§€ë‚˜ëŠ” ì¦‰ì‹œ í…ŒìŠ¤íŠ¸ì— ì‹¤íŒ¨í•˜ê³  í•´ë‹¹ ë©”ì†Œë“œë¥¼ ì¢…ë£Œí•œë‹¤.

  ```java
  @Test
      @DisplayName("assert")
      void test() {
          assertTimeout(Duration.ofMillis(1000), () -> {
              new Study();
              Thread.sleep(1500);
          });
      }
  ```

  ![assertTimeout](./image/assertTimeout.png)

- ... etc

## 5. AssertJ

> AssertJë¥¼ ì´ìš©í•˜ë©´ ë©”ì†Œë“œ ì²´ì´ë‹ì„ ì´ìš©í•œ ì¡°ê¸ˆ ë” í¸ë¦¬í•˜ê³ , ê°€ë…ì„±ì´ ì¢‹ì€ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.

```java
package me.jun.junittest;

import org.junit.jupiter.api.*;

import java.util.ArrayList;
import java.util.List;

import static org.assertj.core.api.Assertions.*;

@DisplayNameGeneration(DisplayNameGenerator.Simple.class)
class StudyTest {

    class Person {

        private String name;

        public Person(String name) {
            this.name = name;
        }
    }

    @Test
    @DisplayName("assert")
    void test() {
        String expected = "test!!!";
        assertThat("test!!!").isEqualTo(expected);

        List<Person> list = new ArrayList<>();

        list.add(new Person("pop"));
        list.add(new Person("six"));
        list.add(new Person("squish"));
        list.add(new Person("uh uh"));
        list.add(new Person("cicero"));
        list.add(new Person("lipschitz"));

        assertThat(list)
                .filteredOn("name", notIn("lipschitz", "cicero"))
                .extracting("name")
                .contains("pop", "six", "squish", "uh uh");
    }
}
```

> ìì„¸í•œ ë‚´ìš©ì€ êµ¬ê¸€ë§...